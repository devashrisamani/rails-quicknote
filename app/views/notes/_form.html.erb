<%= form_with(model: note, class: "space-y-6") do |form| %>
  <% if note.errors.any? %>
    <div class="p-4 rounded-xl bg-rose-50 border border-rose-200">
      <div class="flex items-center gap-2 text-rose-700 font-medium mb-2">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
        </svg>
        <%= pluralize(note.errors.count, "error") %> prevented saving:
      </div>
      <ul class="list-disc list-inside text-sm text-rose-600 space-y-1 ml-7">
        <% note.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :title, class: "block text-sm font-semibold text-slate-700 mb-2" %>
    <%= form.text_field :title,
        class: "block w-full px-4 py-3 text-slate-800 bg-slate-50 border rounded-xl placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 focus:bg-white transition-all #{note.errors[:title].any? ? 'border-rose-300 focus:ring-rose-500/50 focus:border-rose-500' : 'border-slate-200'}",
        placeholder: "Enter a title for your note",
        autofocus: note.new_record? %>
  </div>

  <div>
    <%= form.label :body, class: "block text-sm font-semibold text-slate-700 mb-2" %>
    <%= form.text_area :body,
        rows: 8,
        class: "block w-full px-4 py-3 text-slate-800 bg-slate-50 border rounded-xl placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 focus:bg-white transition-all resize-none #{note.errors[:body].any? ? 'border-rose-300 focus:ring-rose-500/50 focus:border-rose-500' : 'border-slate-200'}",
        placeholder: "Write your note content here..." %>
  </div>

  <div class="pt-2">
    <%= form.submit note.persisted? ? "Save Changes" : "Create Note",
        class: "w-full sm:w-auto inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-semibold rounded-xl shadow-lg shadow-orange-500/25 transition-all duration-200 cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500" %>
  </div>
<% end %>
